<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="../../main.css" rel="stylesheet" type="text/css" media="screen" />
<title>SpecifyiReport</title>
<style type="text/css">
<!--
..style8 {font-size: xx-large}
-->
</style>
</head>

<body bgcolor="#ffffff">
<table width="100%" border="0" background="../../images/topbar.png">
  <tr>
    <td>&nbsp;</td>
  </tr>
</table><br />
<table border="0">
<tr><td valign="middle"><img src="../../images/spireport.png" width="47" height="32" /></td>
<td valign="middle"><h2>SpecifyiReport</h2></td></tr>
</table>
<a name="ireport_overview" id="ireport_overview"></a>A report is used to  present the results of a Query  in an attractive and reader-friendly arrangement, either on paper or on screen as a report preview. 
<p>Specify harnesses the power of iReport 3.0, an open source report writing software package, by modifying the original iReport version to  interact with Queries created in Specify 6 and data supplied from the Specify 6 database. &nbsp;Once within SpecifyiReport, the interface is identical to that of iReport.</p>
<p>In-depth documentation for using iReport can be accessed from their <a href="http://jasperforge.org/website/ireportwebsite/IR%20Website/iReport_documentation.html?group_id=243&header=project&leftnav=yes&target=ireport">web page</a>. The following documentation is meant to explain how to bring a Specify Query into the Specify 6 version of iReport,  then create a simple report. &nbsp;</p>
<p>The Specify staff also provide limited report-writing services for all  Specify users with an ISA. To benefit from their expertise please contact them at <a href="mailto:specify@ku.edu">specify@ku.edu</a>.
</p><p>SpecifyiReport ships with Specify but is a separate application and must be launched separately from Specify. SpecifyiReport is located in the Specify application <em><strong>bin</strong></em> directory, which stores the executable files for Specify. Double click<em> the SpecifyiReport</em> executable to launch SpecifyiReport. &nbsp;As with Specify, you will be prompted for <a href="../Dialogs/Login.html">login</a> information. In a multiple collection scenario you will also be prompted for the collection in which you would like to create the Report.
</p><p>Reports can also be written directly in MySQL and then imported into Specify using the <a href="../../Import/import_export.html">Resource Import/Export</a> tool. The Report needs to include this Report Query &quot;where&quot; clause: &quot;where co.collectionobjectid $P!{itemnum} . Also include a parameter named &quot;itemnum&quot;. </p>
<p>Reports are viewed and printed from within Specify. SpecifyiReports does not include a preview. However, users can have both Specify and SpecifyiReport open at the same time and switch between the two to preview the report or changes being made in Specify. You will need to click the <em>Refresh</em> button in the Specify Reports sidebar for changes to be updated. For information on printing reports from within Specify, see <a href="../ReportsLabels/reports.html">Reports</a>.
</p><p>
</p><h3><strong> <u><a name="ir_create" id="ir_create"></a>Creating a Report from a Query</u></strong></h3>
<p>Reports   are generated by report definitions, which are in turn based on Specify Queries; therefore, the first step in creating a Report is to create and save a <a href="../QueryBuilder/Query_Builder.html">Query</a> within Specify. When constructing the query, remember that checking the Prompt box for a query field will ensure the option to change the criteria for the field before running a report.</p>
<div>
  <div> </div>
</div>
<h3><u><a name="ir_components" id="ir_components"></a>Components</u></h3>
<p>The following is meant to familiarize the user with the basic components of SpecifyiReport and will lead the user through the set-up wizard, adding conditions and saving the report. </p>
<p>Choose <em>File &gt; Report Wizard</em> from within SpecifyiReport and  choose a saved Query to associate with the report. </p>
<p><a name="ir_properties" id="ir_properties"></a>A <strong>Report Properties</strong> dialog will appear allowing for basic report set-up.</p>
<ul>
  <li>
    <p><strong>Report Name</strong> is the name that will appear associated with the Report in the Specify side bar. Ensure that you name the report appropriately according to its function for optimal use.</p>
  </li>
  <li>
    <p><strong>Page Size</strong> designates the area assigned to the report. Choose a predefined size or create a custom size.</p>
  </li>
  <li><strong>Page Margin</strong> delineates the non-printing margins around the page.</li>
  <br />
  <li><strong>Columns</strong> can be used to create multiple labels per page or columns of data</li>
  <br />
  <li><strong>Scriptlet Classes</strong> are Java classes that can be used to execute special events during printing. Users that are familiar with Java can include custom scriptlets in this tab.</li><br />
  <li><strong>More</strong> includes choices for printing title, summary, column footer, pagination, print order and how to handle no data. </li><br />
  <li><strong>i18n</strong> allows special Java classes, bundles and encoding to be implemented for printing formatted fields, internationalizing a report and saving source files.</li><br />
</ul>
<p>&nbsp;</p>
<h4><strong><a name="ir_bands" id="ir_bands"></a>Report Bands</strong></h4>
<p>Once the preliminary set-up is complete, an empty report template will appear. iReport separates  reports into sections, or bands. Data is then printed according to the band definition. For example, a title is printed once but detail is repeated for every record. Bands can be resized by holding the mouse on the separator line until cross hairs appear, then click and drag the line. Bands can also be removed if not needed by dragging the lower edge of the band onto the upper edge (thereby making its height zero).</p>
<table width="100%" border="1" cellspacing="2" cellpadding="6">
  <tr>
    <td><div align="left"><u><strong>Report Band</strong></u></div></td>
    <td><div align="left"><u><strong>Description</strong></u></div></td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="left"><strong>title</strong></div></td>
    <td align="left" valign="top">Only created once in the report and can be its own page.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="left"><strong>page header</strong></div></td>
    <td align="left" valign="top">Appears on all pages (except title and summary pages that are included as their own page) in the same position.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="left"><strong>column header</strong></div></td>
    <td align="left" valign="top">Printed at the beginning of each detail column.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="left"><strong>detail</strong></div></td>
    <td align="left" valign="top">Corresponds to every record that feeds the report.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="left"><strong>column footer</strong></div></td>
    <td align="left" valign="top">Appears at the end of every column.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="left"><strong>page footer</strong></div></td>
    <td align="left" valign="top">Appears on every page that includes a page header.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="left"><strong>last page footer</strong></div></td>
    <td align="left" valign="top">Creates a unique footer for the last page.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="left"><strong>summary</strong></div></td>
    <td align="left" valign="top">Allows  fields to be inserted for ending statements such as total calculations or means.</td>
  </tr>
</table>
<p>&nbsp;</p>
<p><a name="report_text" id="report_text"></a>Text can be added to the report by clicking the <img src="../../images/static_text_button.png" alt="" width="19" height="17" /> (static text) button in the Tool Bar, then clicking and dragging a box in the desired band. These are handy for creating captions, titles, headers and footers. Lines, shapes, images and barcodes can also be added using buttons on the tool bar. Simply mouse-over a button for a tool tip displaying its function. These elements are added as static text fields.</p>
<p>Once in a band, fields can be moved by dragging with the mouse or using the Ctrl and arrow keys while fields can be resized by pulling any of the edge or corner handles of an object.  Objects can also be manipulated by using the Top, Left, Height and Width commands in the common section of the Properties pane (see below).</p>
<h4><strong><a name="ir_panes" id="ir_panes"></a>Report Panes</strong></h4>
<p>Menus on the side and bottom of the Workspace in iReport are called Panes. It is helpful to have three main panes open: <em>Document Structure</em>, <em>Properties</em> and <em>Library</em>. These can be opened/closed in <em>View &gt; Docking Panes</em>. Any item within these panes can be dragged and dropped into a band. When the item is dropped into a band the expression that represents it is displayed in a Text Field. </p>
<p>Right-button-click on an object within the panes to display a context menu with choices for Edit, Add, Move, Cut, Copy, Paste, Delete, Add a Group and Refresh.</p>
<p>Note: Objects within the panes can also be manipulated via a grid by choosing <em>View &gt; (Fields, Parameters or Variables)</em>. </p>
<h4><u>Document Structure pane</u></h4>
<p>The Document Structure typically opens on the left side and is organized into 3 sections:</p>
<ul>
  <li><strong>Parameters</strong> are the programmatic values created by Specify to print reports from SpecifyReport. </li><br />
  <li><strong>Fields</strong> lists the fields in the Query available for inclusion in the report.</li>
  <br />
  Drag and drop a field into the detail band for inclusion in the report. The field will display as a 'textField' in the report structure. This refers to the data, or text, that will occupy the field when the report is run. Do not add or delete text inside a text field.<br />
  <br /> 
  The size of the field can be changed by clicking on the field to produce an outline, then grabbing one of the boxes on the outline and dragging it.<br /><br />
  Change the font or font size for the field data in the Properties pane, or by clicking on it to select it and using the font list box and font size list box in the Tool Bar located at the top of SpecifyiReport.<br /><br />
 SpecifyiReports are created from Queries and limited to the fields included in the query. Although it is possible to click the <img src="../../images/report_text_field.png" width="19" height="17" /> (text field) button and add a text field with an expression it will not be recognized when running the report in Specify.<br /><br />

  <li><strong>Variables</strong> lists the elements included in each band along with their horizontal and vertical position on the page.  
 <br />
 <br /> 
  </li><li>Cut, Copy, Delete and rearrange the order of elements in these panes by right-clicking on them and choosing the appropriate item in the resulting context menu.<br />
    <br />
    </li></ul>
<h4><u>Properties pane</u></h4>
<p>Objects from the Document Structure that are placed into bands display their properties in this window. The Properties pane includes three sections:</p>

<ul>
<li><strong>Common</strong> lists properties for the band such as size, background color, and printing expressions.</li><br />
<li><strong>Text/Graphic</strong> offers properties for the text or graphic as well as line spacing. </li>
<br />
<li>The third section is object specific (Barcode for barcodes, Image for images) and includes some useful expressions. An expressions is a combination of variables, constants, and functions linked by operation symbols. It may be easier to think of an expression as a formula within a report. Expressions are edited using an Expression Editor which can be opened by clicking the ... button next to expression in the list. </li>
<br /><Br />
The properties pane also includes some useful pre-programmed expressions for text.<br /><br />

  <ul>
    <li><em>Stretch with Overflow</em>  to ensure that long records print correctly without losing text. The field will increase in size based on its contents. This however has implications for closely situated fields as they may be overwritten or overlap.<br /><br />
    </li><li><em>Blank when null</em> will not print the word 'null' for blank records in a report.</li>
  </ul>

</ul>

<p>&nbsp;</p>
<p><u><strong>Library</strong></u> (sometimes referred to in other documentation as the Object Library)</p>
<p>The library window contains a set of default stored procedures useful to perform common tasks such as Page Number, Total Pages, Page X of Y, Total, Current Date and Percentage.</p>
<p>&nbsp;</p>
<h3><u><strong><a name="ir_tasks" id="ir_tasks"></a>Task Examples</strong></u></h3>
<p><strong>Combining Fields, </strong>or creating a concatenated string, is often useful  in a report. </p>
<ol>
  <li>Add  the first field in the concatenated string to the proper band (by dragging and dropping) and keep it active (a colored box will appear around the field).</li><br />
  <li>In the Properties pane scroll down to the Text Field section. Find <em>Expression</em> in the list. Click the ellipses (<em>...)</em> button on the right hand side.</li><br />
  <li>The Expression Editor will appear. The original field will be included in the top window as an expression. There are 3 boxes under the window, make sure the first box has Fields selected and find the next field in the second box and double click to add it to the top window. </li>
  <br />
  <li>Each combination of fields requires a linking argument in the following format: + &quot;x &quot; + where x is the text string required to link the two fields. 'x' can also be omitted if no linking text is require i.e. + &quot;&quot; +</li>
</ol>
<p><em><strong>Note:</strong></em> Typing (+ &quot; &quot; +) between two field expression in this dialog will include whatever text is between quotation marks to appear on the report.</p>
<p>&nbsp;</p>
<h4><strong><a name="ir_groups" id="ir_groups"></a>Report Groups</strong></h4>
<p>Groups allow users to structure the records in a report to better organize the content. A group is defined by an expression and a new group is started when the results of the expression change. A group will only function if the results of a query have been sorted correctly. SpecifyiReport reads the data and 'groups' similar data together as they are ordered. The report can then be structured based on the content of the report. </p>
<ol>
  <li><em>Click View &gt; Report Groups</em> to open the Group editor.</li>
  <br />
  <li>Click the <em>New </em>button and give the group a Name in the box provided by the Add/Edit dialog.</li>
  <br />
  <li>In the Group Expression window click the <em>Edit</em> button. Click that button to open the Expression Editor.</li>
  <br />
  <li>Click <em>Field</em> in the bottom left panel and double click the desired field in the list (displayed in the middle panel). The field name should appear in the expression window. Click the <em>Apply</em> button.</li>
  <br />
  <li>The field should now show in the Group Expression window of the Add/Edit dialog. </li>
  <br />
  <li>Designating a field as a Group allows choices for each data grouping:</li>
  <br />
  <ul>
    <li><strong>Start A New Column</strong> will place each data group in its own column.</li>
    <br />
    <li><strong>Start A New Page</strong> will put a page break at the end of each data group.</li>
    <br />
    <li><strong>Reset Page Number</strong> starts each data group at page 1.</li>
    <br />
    <li><strong>Print Header on Each Page</strong> prints the group header on each page.</li>
  </ul>
</ol>
<p>Creating a Group will add a Group band and Group  Footer band to the report.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3><u><a name="ir_barcodes" id="ir_barcodes"></a>Including Barcodes</u></h3>
<p>When creating or editing a report in SpecifyiReport it is often necessary to include a barcode. A string field that includes a barcode and can be part of a report by following these steps:</p>
<ol>
  <li>Click the <img src="../../images/barcode.png" alt="barcode button" width="14" height="12" /> (barcode) button on the tool bar. </li>
  <li>Click and drag an outline for the barcode field in the detail band of the report. </li>
  <li>In the Properties pane, click the <em><strong>...</strong></em> button for the Barcode exp. (at the bottom of the pane under Barcode).</li>
  <li>The Barcode Expression Editor dialog will appear. </li>
  <li>Delete anything that appears in the top box. </li>
  <li>Click Fields in the bottom left pane.</li>
  <li>Double click on the appropriate field in the middle box. It should appear in the top box.</li>
  <li>Click the Apply button.</li>
</ol>
<p><img src="../../images/barcode_editor.png" alt="barcode editor" width="609" height="372" /></p>
<p>&nbsp;</p>
<p>SpecifyiReport supports the following barcodes:</p>
<table width="100%" border="1" cellspacing="2" cellpadding="6">
  <tr>
    <td>2of7</td>
    <td>Code128B</td>
    <td>EAN13</td>
    <td>SCC14Shipping</td>
    <td>APCA</td>
  </tr>
  <tr>
    <td>3of9</td>
    <td>Code128C</td>
    <td>Global Trade</td>
    <td>Shipment Identifier</td>
    <td>UPC3</td>
  </tr>
  <tr>
    <td>Bookland</td>
    <td>Code39</td>
    <td>Int2of5</td>
    <td>SSCC18</td>
    <td>UPC4</td>
  </tr>
  <tr>
    <td>Codabar</td>
    <td>Code39(extended)</td>
    <td>Monarch</td>
    <td>Std2of5</td>
    <td>USPS</td>
  </tr>
  <tr>
    <td>Code128</td>
    <td>EAN128</td>
    <td>PDF417</td>
    <td>UCC128</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>&nbsp;</p>
<h4><strong><u><a name="ir_save" id="ir_save"></a>Saving a Report</u></strong></h4>
<p>Once a report is created to satisfaction, it can be saved by choosing <em>File &gt; Save</em>. A Report Properties dialog will appear:</p>
<ol>
  <li>Type a <strong>Name</strong> for the Report</li>
  <li>Choose the <strong>Report Type</strong>:</li><ul>
  <li><strong>Report</strong> or <strong>Label</strong> are separate report types for purely organizational purposes. Choosing <em>Label</em> will list the report under the Label heading on the reports side bar and choosing <em>Report</em> will list the report under the Report heading.</li>
  <li><strong>Invoice </strong>reports are listed under Reports in the reports side bar. These are typically created to capture an interaction such as Loan, Gift or Borrow. Reports created from a Loan query are made available when a Loan is saved by checking the 'Print Invoice on Save' box on the Loan form.</li>
  </ul>
  <li><strong>Save For </strong>refers to level of access given to the report. Discipline will allow all collections within the Discipline access to the report and User will limit the access to the current User only.</li>
  <li>Choose a <strong>Repeats</strong> variable:</li>

<ul>
  <li><strong>Once</strong> will create one report/label.</li>
  <li><strong>Constant</strong> duplicates each record in the report/label and offers a number field for selecting the number of times for the repeat. </li>
</ul></ol>
<p>Saved reports can be opened from within SpecifyiReport to view and edit by choosing <em>File &gt; Open</em> and selecting either the label or report from the list. It is important to remember when editing a report that reports are created from Queries; therefore, new fields may not be added to a report that are not present in the query. Fields may be removed. </p>
</BODY>
</html>
