<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="../../main.css" rel="stylesheet" type="text/css" media="screen" />
<title>Trees in Specify</title>
</head>

<body bgcolor="#ffffff">
<table width="100%" border="0" background="../../images/topbar.png">
  <tr>
    <td>&nbsp;</td>
  </tr>
</table><br />
<table border="0">
<tr><td><img src="../../images/Tree_big.png" width="32" height="32" /></td>
<td><h2>Trees in Specify</h2></td></tr>
</table>

<p>Specify 6 visually presents some data  types in hierarchical tree displays. These data types include the Taxon, Geography, (Specimen) Storage, Chronostratigraphy and Lithostratigraphy tables. These data types, or tables, are also included in the form system, but the tree offers a more broad, visual glimpse of the data. Data can be viewed, added and edited using both the form and tree system.</p>
<p>The Taxon, Geography,  Chronostratigraphy and Lithostratigraphy trees (and tables) are scoped at the Discipline level, meaning that all collections within a discipline share the same tree. Collections Objects that are associated with the nodes on the tree are only available for the collection (these are accessed from the tree by right-clicking the node and choosing <em>Associated Collection Objects </em>from the ensuing context menu.)</p>
<p>The Storage tree is scoped at the institution level, but as with the other trees only collection objects for the current collection will be shown when right-clicking on the node and choosing Associated Collection Objects from the context menu.</p>
<p>The default permissions that Specify ships with allow Guest users to View the trees, but not modify them in any way. All other users can use trees in their entirety.</p>
<p>&nbsp;</p>
<h4><a name="trees_terms" id="trees_terms"></a>Specify Tree Terminology</h4>
<p>The various Trees show  relationships in a hierarchical structure. All hierarchies are referred to as <strong>ranks</strong>. All nodes immediately under a rank are referred to as <strong>children</strong>. Any node with a child is referred to as a <strong>parent</strong>.</p>
<p>Ranks are shown in columns on the tree.<em><strong> </strong></em>tree column colors can be set in <em>Preferences &gt; Tree</em>. See also <em><a href="../Prefs/Tree.html">Preferences</a></em>.</p>
<p>&nbsp;</p>
<h4><strong><a name="trees_build" id="trees_build"></a>Building Ranks</strong></h4>
<p>There are two distinctions for trees; the first is the tree definition, or list of all the Ranks (levels) included in each tree,  the second is the nodes which reside on the tree at each of these levels.  The ranks must first be defined, then nodes can be added. Ranks are defined and edited through the use of both the Specify Setup Wizard and the Add a Discipline Wizard. They can also be edited in the <a href="../Trees/editing_tree_def">Tree Definition</a> as well as marked to be enforced and  included in the full name. The Full Name field in Specify is useful to search and use in reports. For example, the Geography tree may use city and state as the full name for Geography. The Full Name is also used in the Taxon and Geography Query Combo Boxes on forms as a way to distinguish between two similar records.</p>
<p>At this time in Specify 6 the configuration of full name can not be edited once nodes are placed on the tree. Therefore; this is a decision that must be made before populating the tree, and collections receiving databases with populated trees will need to request the desired configuration before import!</p>
<p>&nbsp;</p>
<h4><strong><a name="trees_build" id="trees_build"></a>Building Trees</strong></h4>
<p>All Trees can be defined and loaded into Specify through either the Specify Setup Wizard or the Add a Discipline Wizard. Data in these trees include:</p>
<ul>
  <li>Converted Taxon authority files  for each of the Disciplines from the Catalog of Life. </li>
  <li>Converted Geographic authority files from Getty Thesaurus of Geographic Names, which includes Continent, Country, and States throughout the world as well as County data  for the United States.</li>
  <li>Chronostratigraphy  authority files for five ranks in the North American System as converted from the Geological Society of America. </li>
  <li>Four predefined ranks for Lithostratigraphy. </li>
  <li>Ranks for the Storage tree.</li>
</ul>
<p>Users that do not wish to build their trees through a Specify Wizard may build their own trees in the following ways:</p>
<ul>
  <li>Manually by adding  one record at a time. This will be necessary for the Storage tree, as it is unique to each Institution and Collection.</li>
  <br />
  <li>Dynamically from an existing user database. This may include a conversion from Specify 5 or other type of database, which the Specify team can help with, or a data import through the WorkBench. </li>
  <br />
  <li>Dynamically by  downloading and importing an authority file from an authority source. </li>
</ul>
<p>&nbsp; </p>
<p>&nbsp;</p>
<h3><a name="trees_using" id="trees_using"></a>Using Trees</h3>
<p>Trees are available through a tree button on the task bar. The task bar is configurable in Preferences. Users that do not have the tree button included on their task bar can add it by clicking <span class="MichaelsChanges"><em>Edit &gt; Preferences &gt; Task Bar </em>on Windows, or<em> Specify &gt; Preferences &gt; Task Bar</em> on the Mac, then checking the <em>Trees</em> box.</span></p>
<p>Tree and Task Bar preferences will not be available to users without edit permission for the trees..</p>
<p>Click <em><img src="../../images/Tree-32x32.png" width="20" height="20" /> Trees </em>on the task bar,  to open the tree tool. Trees are grouped by their task on the Sidebar.</p>
<p><strong>Edit Trees</strong> lists the Trees available for the collection. Click a tree to open it in the Workspace. </p>
<p><strong>Edit Tree Definitions</strong> lists the Definitions for each tree. This tool defines the ranks available in a  tree as well as with how these ranks are enforced in data entry and used in aggregating the full name. <em> </em>Before adding nodes to an empty tree, the tree Definition must be completed. Please refer to <a href="../Trees/editing_tree_def.html">Tree Definitions.</a></p>
<p><strong>Unlock a Tree</strong> is only available to users with appropriate permission. </p>
<p>Only one user may edit  a tree, tree Definition or the related data entry form at the same time. Simultaneous editing of a tree, tree definition or data form is also not permitted by a single user. Trees and forms will still be available for viewing, searching or querying. In order for a second user to use the tree or form, the first user must close the affected tab. </p>
<p>When a tree is being edited by a user (A) and another user (B) opens the tree,  a prompt will notify user (B) that the tree is in use by user (A) and will open in View mode. Then the tree will open to view.</p>
<p>When a tree Definition is open and the same user opens the corresponding tree, the tree Definition does not need to be closed, the tree will display in the  tree tab. The Definition is not available to View and those without editing privileges may not access it.</p>
<p>In the event that a tree becomes locked and the user of that tree can not be located, (which may occur due to improper shutdowns of the application), the tree can be unlocked by clicking it under the 'Unlock a Tree' heading<em></em>.</p>
<p>&nbsp;</p>
<h3> <u><a name="trees_tools" id="trees_tools"></a>Tree Tools</u></h3>
<p><b>Expand a Node</b></p>
<p>Click the <img src="../../images/forward.png" width="16" height="16" /> (expand) icon to expand nodes on the tree.</p>
<p>&nbsp;</p>
<h4><a name="trees_expand" id="trees_expand"></a>Expand a Tree Column</h4>
<ol>
  <li>Mouse over the header column until a crossbar appears.</li>
  <li>Right-click and drag to expand the column.</li>
</ol>
<p>&nbsp;</p>
<h4><a name="trees_toolbar" id="trees_toolbar"></a>Toolbar Buttons</h4>
<table width=100% border="1" cellspacing="2" cellpadding="6">
  <tr>
    <td align="left" valign="top"><div ><u><strong>Button</strong></u></div></td>
    <td align="left" valign="top"><div ><u><strong>Definition</strong></u></div></td>
    <td align="left" valign="top"><div ><u><strong>Result</strong></u></div></td>
  </tr>
  <tr>
    <td width="14%" align="left" valign="top"><div align="center"><img src="../../images/expandchildren20.png" alt="left" width="20" height="20" /></div></td>
    <td width="24%" align="left" valign="top">Move Column Left</td>
    <td width="62%" align="left" valign="top">Shifts the entire tree to the left, closing the highest rank.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="center"><img src="../../images/ExpandParent20.png" width="20" height="20" /></div></td>
    <td align="left" valign="top">Move Column Right</td>
    <td align="left" valign="top">Shifts the entire tree to the right, opening the highest rank.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="center"><img src="../../images/reparent_20.png" width="20" height="20" /></div></td>
    <td align="left" valign="top">Select Parent</td>
    <td align="left" valign="top">Walks up the tree selecting the parent node.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="center"><img src="../../images/Split-Window-Horiz-2-16x16.png" alt="split-view" width="16" height="16" /></div></td>
    <td align="left" valign="top">Split Screen</td>
    <td align="left" valign="top">Creates two simultaneous mirror images of the tree. This allows different sections of the tree to be viewed and edited, which is useful when trees are large. Changes made to one of the Trees will be updated in the second tree.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="center"><img src="../../images/Single-View-1-16x16.png" alt="single view" width="16" height="16" /></div></td>
    <td align="left" valign="top">Single Screen</td>
    <td align="left" valign="top">Reverts the tree display to a  single screen.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="center"><img src="../../images/Edit-2-16x16.png" alt="edit" width="16" height="16" /></div></td>
    <td align="left" valign="top">Edit Node</td>
    <td align="left" valign="top">Opens a form for editing the node.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="center"><img src="../../images/add.png" alt="add" width="16" height="16" /></div></td>
    <td align="left" valign="top">Add Child</td>
    <td align="left" valign="top">Opens a form for adding a child to the selected parent.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="center"><img src="../../images/delete.png" alt="delete" width="16" height="16" /></div></td>
    <td align="left" valign="top">Delete Child</td>
    <td align="left" valign="top">Deletes the child. The table below shows the instances in which nodes may not be deleted.</td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="center"><img src="../../images/sync.png" alt="sync view" width="16" height="16" /></div></td>
    <td align="left" valign="top">Sync Split Screens</td>
    <td align="left" valign="top">Syncs the split screen views to display the same section of the tree on each screen.</td>
  </tr>
</table>
<p>&nbsp;</p>
<p><strong><em>Note:</em></strong> Nodes on specific trees can only be deleted if:</p>
<table  border="1" cellspacing="2" cellpadding="6" width="600">
  <tr>
    <td width="30%" align="left" valign="top"><div align="left"><strong><u>Tree</u></strong></div></td>
    <td align="left" valign="top"><u><strong></strong></u></td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="left"><strong>Taxon</strong></div></td>
    <td align="left" valign="top"><ul>
      <li> not used in a Determination.</li>
      <li>not included in a Taxon citation.</li>
      <li>not a parent node of a Hybrid.</li>
      <li>not a preferred name of a Synonym.</li>
      <li>not a parent Node.</li>
    </ul></td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="left"><strong>Geography</strong></div></td>
    <td align="left" valign="top"><ul>
      <li>not used in a Locality.</li>
      <li>not a preferred name of a Synonym.</li>
      <li>not a parent Node.</li>
    </ul></td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="left"><strong>Storage</strong></div></td>
    <td align="left" valign="top"><ul>
      <li>not used in a Preparation.</li>
      <li>not a preferred name of a Synonym.</li>
      <li>not a parent Node.</li>
    </ul></td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="left"><strong>Chronostratigraphy</strong></div></td>
    <td align="left" valign="top"><ul>
      <li>not used in a Paleo Context.</li>
      <li>not a preferred name of a Synonym.</li>
      <li>not a parent Node.</li>
    </ul></td>
  </tr>
  <tr>
    <td align="left" valign="top"><div align="left"><strong>Lithostratigraphy</strong></div></td>
    <td align="left" valign="top"><ul>
      <li>not used in a Paleo Context.</li>
      <li>not a preferred name of a Synonym.</li>
      <li>not a parent Node.</li>
    </ul></td>
  </tr>
</table>
<p>If deletions are required, the condition or conditions preventing the deletion must first be eliminated. For example, open the related Collection Object record and delete the determination before deleting the tree node.</p>
<p><em><strong>Note:</strong></em> Any edits/additions to large trees may take several minutes to save. </p>
<p>&nbsp;</p>
<h3><a name="drag_drop">Dragging and Dropping</a></h3>
<p>Nodes can be dragged and dropped within a tree.  When the screen is split, nodes can be dragged and dropped within the same screen or into the opposite screen. A highlight box will appear around any nodes that can accept the node being dragged. Dragging and dropping is used to:</p>
<p><strong>Move </strong> a node (and its child nodes) to a new parent. This is useful when a data entry error has occurred, or a new node has been introduced while uploading from the WorkBench. Nodes may be moved between ranks, but enforced ranks may not be skipped. </p>
<p><strong>Synonymize</strong> the node (in the Geography and Taxon trees only). The node that is dragged  and dropped becomes a synonym of the  accepting, or target node. The target node is then the Preferred node. Changes in taxon are reelected in fields in the Determinations table. Collection object determinations are captured in the Taxon and Preferred Taxon fields. When a taxon is not a synonymy these fields will both refer to the same taxon (A). If  taxon (A) becomes a synonymy of taxon (B) the Taxon field will still reflect Taxon (A) but the Preferred Taxon will change to Taxon (B). </p>
<p>Once the node is dropped onto the accepting node a dialog will appear asking if the user would like to synonymize the node (when applicable), or move the node (when applicable).</p>
<p>Child nodes can not be added to a synonymized node and, in the same instance, parent nodes can not be synonymized unless their child nodes are first  synonymized.</p>
<p>In the Taxon tree, nodes at the species level and below can be synonymized within and between ranks, but any node higher than species can only be synonymized within the same rank. In other words, a family level node may only be synonymized to another family level node. </p>
<p>Synonyms are differentiated from non-synonyms by their text color. Synonym text color can be set in <em><a href="trees.html">Preferences</a></em>. Synonyms  also show as a tool tip on the node. Tool tips are displayed by holding the mouse over a rank. </p>
<p>To undo a synonymy right-click on the node, then click <em>Undo Synonymy</em> in the resulting Context Menu.</p>
<p><em><strong>Note:</strong></em> When taxa are synonymized the are created in the Taxon tree, the Preferred Taxon field on the Determination form is updated.</p>
<p>Select <strong>Cancel</strong> on the dialog to place the node back in its original position.</p>
<p>&nbsp;</p>
<h3><a name="trees_counts" id="trees_counts"></a>Collection Object Counts</h3>
<p>Counts of collection objects associated with each node can be enabled for all trees. This feature requires data processing and therefore is not enabled by default. Enable Collection Object Counts  on a tree by choosing <em>Preferences &gt; Tree</em>. See also <em><a href="trees.html">Preferences</a></em>.</p>
<p>Counts are displayed next to the Node as two numbers (<strong>X</strong>,<strong>Y</strong>):</p>
<ul>
  <li><strong>X</strong> represents the number of Collection Objects for the Node only. </li>
  <li><strong>Y</strong> represents the number of Collection Objects for the Rank and all nodes beneath it. </li>
</ul>
<p>The last node on the tree will only show the X value, as there are no nodes beneath it.</p>
<p><strong><a name="trees_more" id="trees_more"></a>More Options</strong> (Context Menu)</p>
<p>A right-mouse click on the node offers the following choices:</p>
<table width=100% border="1" cellspacing="2" cellpadding="6">
  <tr>
    <td width="28%"><div align="left"><u><strong>Option</strong></u></div></td>
    <td width="72%"><div align="left"><u><strong>Result</strong></u></div></td>
  </tr>
  <tr>
    <td><div align="left"><strong>Move columns left</strong></div></td>
    <td><div align="left">Shifts the entire tree to the left, closing the highest rank.</div></td>
  </tr>
  <tr>
    <td><div align="left"><strong>Find Next</strong></div></td>
    <td><div align="left">Finds the next usage of the exact name. For instance, Johnson may be used as the name of a county in different states. This would find the next 'Johnson' in the Geography tree.</div></td>
  </tr>
  <tr>
    <td><div align="left"><strong>Edit ... (View)</strong></div></td>
    <td><div align="left">Opens the relevant data form for that node. When editing the tree, the Edit option will appear, when viewing the tree, the View option will appear.</div></td>
  </tr>
  <tr>
    <td><div align="left"><strong>Delete</strong></div></td>
    <td><div align="left">Deletes the node. See the table above for deletion requirements.</div></td>
  </tr>
  <tr>
    <td><div align="left"><strong>Add Child </strong></div></td>
    <td><div align="left">Opens a <a href="data_entry.html">form</a> for adding a child. </div></td>
  </tr>
  <tr>
    <td><div align="left"><strong>Undo Synonymy</strong></div></td>
    <td><div align="left">Restores the node as a preferred taxon name. This is only available on the Geography and Taxon trees.</div></td>
  </tr>
  <tr>
    <td><div align="left"><strong>Associated Collection Objects</strong></div></td>
    <td><div align="left">Opens any associated Collection Objects in  Collection Object forms for the active collection only.</div></td>
  </tr>
</table>
<p>&nbsp;</p>
<h3><a name="trees_find" id="trees_find"></a>Find</h3>
<p>Click Cntl + F to open the Find tool (which opens under the tree Workspace). This is particularly useful to expand the tree to the end Nodes. The arrow icons  refer to the view that is appropriate for the search. </p>
<table width="100%" border="1" cellspacing="2" cellpadding="6">
  <tr>
    <td width="12%">      <p align="left"><u><strong>Button</strong></u></p></td>
    <td width="18%">      <p align="left"><u><strong>Name</strong></u></p></td>
    <td width="70%"><p align="left"><u><strong>Result</strong></u></p></td>
  </tr>
  <tr>
    <td><div align="left"><img src="../../images/up.png" alt="up" width="16" height="16" /></div></td>
    <td>Upper</td>
    <td>Searches the upper tree.</td>
  </tr>
  <tr>
    <td><div align="left"><img src="../../images/down.png" alt="down" width="16" height="16" /></div></td>
    <td>Lower</td>
    <td>Searches the lower tree.</td>
  </tr>
  <tr>
    <td><div align="left"><img src="../../images/down.png" alt="down" width="16" height="16" /><img src="../../images/up.png" alt="up" width="16" height="16" /></div></td>
    <td>Upper and Lower</td>
    <td>Searches both trees.</td>
  </tr>
</table>
<p>If only one screen is open, it is best to choose <img src="../../images/up.png" alt="up" width="16" height="16" />(top view). </p>
<p>Find and select a node by typing a few letters in a single term, or a single term, into the Find text box and clicking the <em>Find</em> button. Full taxon names are not accepted, so enter a name from a single rank, such as genus.</p>
<p>Click the Next button to find the next usage of the term in the tree. For instance; if Johnson is the name of a county in different states, typing the term in the find text box and clicking the<em> Find</em> button will find the first instance of Johnson in the tree. Clicking the <em>Find</em> button a second time will find the next instance of 'Johnson' in the Geography tree.</p>
</body>
</html>
